<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MiniMart Convenience Store</title>

    <style>
        body {
            background-color: #111;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            padding: 20px;
        }

        /* Item Boxes (Original Dark Style) */
        .item-box {
            border: 1px solid #444;
            border-radius: 12px;
            padding: 15px;
            margin: 10px;
            background-color: #1e1e1e;
            box-shadow: 2px 2px 6px rgba(0,0,0,0.3);
            text-align: center;
        }

        .item-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            width: 90%;
            margin: auto;
        }

        button {
            margin: 5px;
            padding: 7px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            background-color: #333;
            color: white;
        }

        button:hover {
            background-color: #555;
        }

        /* --- SLIDING CART SIDEBAR (LEFT SIDE) --- */
        #cartSidebar {
            position: fixed;
            top: 0;
            left: -300px; /* hidden by default */
            width: 300px;
            height: 100%;
            background-color: #1b1b1b;
            border-right: 2px solid #444;
            padding: 20px;
            box-shadow: 3px 0 6px rgba(0,0,0,0.4);
            transition: left 0.35s ease;
            overflow-y: auto;
            z-index: 9999;
        }

        #cartToggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: #222;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            z-index: 10000;
        }

        #cartSidebar.open {
            left: 0;
        }

        hr {
            border-color: #444;
        }
    </style>
</head>
<body>

    <h1>üè™ MiniMart Convenience Store</h1>

    <!-- Cart Toggle Button -->
    <button id="cartToggle">üõí Cart</button>

    <!-- Sliding Cart Sidebar -->
    <div id="cartSidebar">
        <h2>Your Cart</h2>
        <div id="cartItems"></div>
        <hr>
        <h3 id="cartTotal">Total: $0.00</h3>
        <button onclick="checkout()">Buy Now</button>
    </div>

    <!-- Categories -->
    <div style="text-align:center; margin-bottom:20px;">
        <select id="categorySelect" onchange="loadCategory()">
        </select>
    </div>

    <!-- Items -->
    <div id="itemsContainer" class="item-grid"></div>

    <script>
        // Store Data (same as Streamlit version)
        const categories = {
            "Chips": {
                "Lay‚Äôs Classic": 2.5,
                "Doritos Nacho Cheese": 2.8,
                "Pringles Original": 3.0,
                "Cheetos Crunchy": 2.6,
                "Ruffles Sour Cream & Onion": 2.7,
                "Lay‚Äôs BBQ": 2.5,
                "Takis Fuego": 3.2,
                "Kettle Sea Salt": 2.9,
                "Tostitos Scoops": 3.1,
                "Calbee Hot & Spicy": 3.0
            },
            "Drinks": {
                "Coca-Cola": 1.5,
                "Pepsi": 1.5,
                "Sprite": 1.5,
                "Fanta Orange": 1.6,
                "Mountain Dew": 1.7,
                "Gatorade Lemon-Lime": 2.0,
                "Red Bull": 2.8,
                "Monster Energy": 3.0,
                "Iced Coffee (Can)": 2.2,
                "Bottled Water": 1.0,
                "Minute Maid Apple Juice": 2.0,
                "Milk Tea (Bottle)": 2.5
            },
            "Candies / Chocolate": {
                "Snickers": 1.5,
                "KitKat": 1.5,
                "Twix": 1.6,
                "M&M‚Äôs": 1.8,
                "Hershey‚Äôs Bar": 1.7,
                "Skittles": 1.5,
                "Reese‚Äôs Peanut Butter Cup": 1.9,
                "Mentos": 1.0,
                "Toblerone": 2.0,
                "Ferrero Rocher": 2.5,
                "Sour Patch Kids": 1.8,
                "Chupa Chups Lollipop": 1.0,
                "Kinder Bueno": 2.2,
                "Pocky (Strawberry)": 1.8
            },
            "Instant Noodles": {
                "Nissin Cup Noodles (Chicken)": 2.0,
                "Nissin Spicy Beef": 2.2,
                "Shin Ramyun": 2.5,
                "Samyang Hot Chicken": 3.0,
                "Indomie Mi Goreng": 2.0,
                "Maruchan Seafood Flavor": 2.3,
                "Nongshim Neoguri": 2.5,
                "Mama Shrimp Tom Yum": 2.1
            },
            "Gift Cards": {
                "Steam Gift Card ($10)": 10.0,
                "Google Play Card ($10)": 10.0,
                "Apple Gift Card ($10)": 10.0,
                "Roblox Gift Card ($10)": 10.0,
                "Amazon Gift Card ($10)": 10.0,
                "Netflix Gift Card ($10)": 10.0
            }
        };

        // Populate category dropdown
        const categorySelect = document.getElementById("categorySelect");
        for (let cat in categories) {
            let option = document.createElement("option");
            option.value = cat;
            option.textContent = cat;
            categorySelect.appendChild(option);
        }

        // Cart storage
        let cart = {};

        function loadCategory() {
            const selected = categorySelect.value;
            const container = document.getElementById("itemsContainer");
            container.innerHTML = "";

            for (let item in categories[selected]) {
                let price = categories[selected][item];

                container.innerHTML += `
                    <div class="item-box">
                        <h3>${item}</h3>
                        <p>üíµ $${price.toFixed(2)}</p>
                        <button onclick="addItem('${item}', ${price})">‚ûï Add</button>
                        <button onclick="removeItem('${item}')">‚ûñ Remove</button>
                    </div>
                `;
            }
        }

        function addItem(item, price) {
            if (!cart[item]) {
                cart[item] = { price: price, quantity: 0 };
            }
            cart[item].quantity++;
            updateCart();
        }

        function removeItem(item) {
            if (cart[item]) {
                cart[item].quantity--;
                if (cart[item].quantity <= 0) delete cart[item];
            }
            updateCart();
        }

        function updateCart() {
            const cartItems = document.getElementById("cartItems");
            const cartTotal = document.getElementById("cartTotal");

            cartItems.innerHTML = "";
            let total = 0;

            for (let item in cart) {
                let q = cart[item].quantity;
                let p = cart[item].price;

                total += q * p;

                cartItems.innerHTML += `
                    <p>${item} x${q} ‚Äî $${(q * p).toFixed(2)}</p>
                `;
            }

            cartTotal.textContent = "Total: $" + total.toFixed(2);
        }

        function checkout() {
            alert("Thank you for shopping with us!\n(Email sending not enabled in HTML version.)");
            cart = {};
            updateCart();
        }

        // Cart Sidebar Toggle
        const cartSidebar = document.getElementById("cartSidebar");
        const cartToggle = document.getElementById("cartToggle");

        cartToggle.onclick = () => {
            cartSidebar.classList.toggle("open");
        };

        // Load default category
        loadCategory();
    </script>

</body>
</html>
